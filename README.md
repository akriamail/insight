# 🚀 Project Team - Insight Infrastructure

## 项目概述
Project Team Insight Infrastructure 是一个基于 Docker Compose 部署的集成基础设施管理系统。它采用扁平化架构设计，旨在实现“配置与数据分离”，提供一键部署、交互式管理与全量备份功能。

## 功能特性
*   **统一网关管理:** 基于 Nginx Proxy Manager 映射。
*   **核心数据库服务:** PostgreSQL。
*   **灵活工作流:** n8n。
*   **分层系统管理:**
    *   **基础运维:** 日常启动、停止、备份及健康监控。
    *   **高级维护:** 环境初始化、生产/开发部署细分、镜像配置及系统重置。

## 快速入门

### 1. 新主机部署流程 (全新服务器)
对于一台完全没有安装过 Docker 的新主机，请按照以下步骤操作：

1.  **初始化基础环境**:
    ```bash
    ./manage.sh
    # 选择 5 (高级维护) -> 选择 1 (新主机部署基础环境)
    ```
    *此步骤将安装 Docker、配置 Swap、优化内核参数。*

2.  **执行一键部署**:
    *   **生产环境 (境外部署)**: 选择 `5 -> 2` (禁用镜像加速)。
    *   **开发环境 (国内部署)**: 选择 `5 -> 3` (开启专属加速器)。

### 2. 日志与监控
运行 `./manage.sh` 选择 `3 (状态与监控)` 可一次性查看：
*   所有容器的运行状态、镜像名及端口。
*   服务器的 CPU、内存负载和磁盘剩余空间。
*   容器实时的 CPU/内存/IO 资源占用。

## 菜单功能详解

**[一级菜单：基础运维]**
*   **1) 🚀 启动服务**: 拉起容器并初始化数据库。
*   **2) 🛑 停止服务**: 安全移除容器。
*   **3) 📊 状态与监控**: 综合健康报告。
*   **5) ⚙️ 高级维护...**: 进入二级菜单。

**[二级菜单：高级维护]**
*   **1) 🛠️ 新主机部署基础环境**: 安装 Docker 等基础依赖。
*   **2) ✨ 一键生产环境部署**: 自动化部署，**禁用**镜像加速。
*   **3) 🧪 一键开发环境部署**: 自动化部署，**启用**专属加速。
*   **4) 🧱 防火墙管理**: 基于 UFW 的端口安全管理及 Docker 兼容性修复。
*   **7) 🗑️ 重置系统 (危险)**: 彻底清理所有数据，用于重装或迁移。

## 环境变量配置
请参考 `.env.example` 创建 `.env` 文件。更改配置后，建议在高级菜单中执行“重置系统”后再重新部署以确保完全应用。

## 维护规范
*   **安全确认**: 危险操作均设有 `(y/n)` 二次确认。
*   **定期备份**: 建议每日执行 `Backup`。
