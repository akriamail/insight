# 🚀 Project Team - Insight Infrastructure

这是 **Project Team** 的核心基础设施管理仓库。采用扁平化架构设计，实现“配置与数据分离”，支持一键部署与全量备份。

## 📂 目录结构说明

- **`data/`**: 生产数据挂载区（包含网关配置、数据库原始文件等）。
- **`infra/compose/`**: Docker Compose 编排文件，定义了所有服务。
- **`infra/scripts/`**: 核心运维脚本（备份、恢复、启动、停止）。
- **`exports/`**: 备份产物存放区，生成的 `.tar.gz` 全量包将放在这里。
- **`manage.sh`**: 项目管理超级入口。

---

## 🛠️ 快速开始

### 1. 环境初始化
```bash
git clone https://github.com/akriamail/insight.git /opt/insight
cd /opt/insight
# 确保权限正确
chmod +x manage.sh infra/scripts/*.sh
```

### 2. 服务管理
使用根目录下的 `manage.sh` 进行统一管理：
- **启动所有服务**: `./manage.sh up`
- **停止所有服务**: `./manage.sh down`
- **查看容器状态**: `./manage.sh status`
- **执行全量备份**: `./manage.sh backup`

---

## 📦 备份与恢复

### 备份
执行 `./manage.sh backup` 后，系统会：
1. 导出所有 Postgres 数据库并压缩。
2. 打包 Nginx Proxy Manager 的所有配置文件。
3. 将上述内容封装进 `exports/Project_Team_Full_Backup_日期.tar.gz`。

### 恢复
1. 将备份包放入 `exports/` 目录。
2. 执行 `./manage.sh restore`。
3. 脚本会自动解压并按序还原数据库及网关配置。

---

## 🔐 安全与维护
- **隐私保护**: `.gitignore` 已预设，确保 `data/` 和 `exports/` 中的实际生产数据不会被上传至 GitHub。
- **异地灾备**: 建议定期将 `exports/` 下的压缩包同步至云端或本地存储。

---
*Generated by Gemini for Project Team - 2026*
